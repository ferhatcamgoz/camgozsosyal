(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(27),r=n.n(s),i=(n(68),n(3)),o=n.n(i),l=n(6),u=n(31),d=n(5),j=n(4),b=n(1),m=function(e){var t=e.label,n=e.error,a=e.name,c=e.onChange,s=e.type,r=e.defaultValue,i="form-control";return"file"==s&&(i+="-file"),void 0!=n&&(i+=" is-invalid"),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:t}),Object(b.jsx)("input",{className:i,name:a,type:s,onChange:c,defaultValue:r}),Object(b.jsx)("div",{className:"invalid-feedback",children:n})]})},O=n(55),f=function(e){var t=e.onClick,n=e.pendingApiCall,a=e.disabled,c=e.text,s=e.className;return Object(b.jsxs)("button",{className:s||"btn btn-primary",onClick:t,disabled:a,children:[n&&Object(b.jsx)("span",{className:"spinner-border spinner-border-sm"})," ",c]})},p=n(7),g=n.n(p),h=function(e,t,n){var c=Object(a.useState)(!1),s=Object(j.a)(c,2),r=s[0],i=s[1];return Object(a.useEffect)((function(){var a,c,s=function(a,c,s){a===e&&(n&&c===t||!n&&c.startsWith(t))&&i(s)};return a=g.a.interceptors.request.use((function(e){var t=e.url,n=e.method;return s(n,t,!0),e})),c=g.a.interceptors.response.use((function(e){var t=e.config,n=t.url,a=t.method;return s(a,n,!1),e}),(function(e){var t=e.config,n=t.url,a=t.method;throw s(a,n,!1),e})),function(){g.a.interceptors.request.eject(a),g.a.interceptors.response.eject(c)}}),[t,e,n]),r},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return g.a.get("/users?page=".concat(e,"&size=").concat(t))},v=function(e){var t=e.userName,n=e.password;if(e.isLoggedIn){var a="Basic ".concat(btoa(t+":"+n));g.a.defaults.headers.Authorization=a}else delete g.a.defaults.headers.Authorization},N=function(e,t){return g.a.put("/users/".concat(e),t)},w=function(e){return g.a.post("/message",e)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e?"/user/".concat(e,"/message?page="):"/message?page=";return g.a.get(n+t)},k=function(e,t){var n=t?"/user/".concat(t,"/message/").concat(e,"?count=true"):"/message/".concat(e,"?count=true");return g.a.get(n)},C=function(e){return g.a.post("/message-file",e)},S=function(e){return g.a.delete("/message/"+e)},L=function(e){return g.a.delete("/users/"+e)},A=function(e){return{type:"login-success",payload:e}},U=function(e){return{type:"update-user",payload:{nickName:e.nickName,image:e.image}}},D=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s=e,g.a.post("/auth",{},{auth:s});case 2:return a=t.sent,c=Object(d.a)(Object(d.a)({},a.data),{},{password:e.password}),n(A(c)),console.log(e),t.abrupt("return",a);case 7:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s=e,g.a.post("/kayit",s);case 2:return a=t.sent,c={username:e.userName,password:e.password},t.next=6,n(D(c));case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},P=n(9),I=function(e){var t,n=Object(a.useState)({userName:null,nickName:null,password:null,passwordRepeat:null}),c=Object(j.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)({}),p=Object(j.a)(i,2),g=p[0],x=p[1],v=Object(P.b)(),N=function(e){var t=e.target,n=t.value,a=t.name;x((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,void 0))})),r((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,n))}))},w=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c,r,i,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.history,c=a.push,r=s.userName,i=s.nickName,l=s.password,u={userName:r,nickName:i,password:l},t.prev=5,t.next=8,v(E(u));case 8:c("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),t.t0.response.data.validateexception&&x(t.t0.response.data.validateexception);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),y=g.userName,k=g.nickName,C=g.password,S=Object(O.a)().t,L=h("post","/kayit");return s.password!=s.passwordRepeat&&(t=S("Ayn\u0131 \u015fifreyi yaz")),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("h1",{className:"text-center",children:S("Sign Up")}),Object(b.jsx)(m,{name:"userName",label:S("Username"),type:"text",error:y,onChange:N}),Object(b.jsx)(m,{name:"nickName",label:S("NickName"),type:"text",error:k,onChange:N}),Object(b.jsx)(m,{name:"password",label:S("Password"),type:"password",error:C,onChange:N}),Object(b.jsx)(m,{name:"passwordRepeat",label:S("Password Repeat"),type:"password",error:t,onChange:N}),Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(f,{onClick:w,disabled:L||void 0==s.passwordRepeat,pendingApiCall:L,text:S("Register")})})]})})},R=function(e){var t=Object(O.a)().i18n,n=function(e){var n;t.changeLanguage(e),n=e,g.a.defaults.headers["accept-language"]=n};return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("img",{src:"https://www.worldometers.info/img/flags/tu-flag.gif",alt:"tr flag",onClick:function(){return n("tr")},style:{cursor:"pointer"},width:"65",height:"30"}),Object(b.jsx)("img",{src:"https://www.worldometers.info/img/flags/uk-flag.gif",alt:"us flag",onClick:function(){return n("en")},style:{cursor:"pointer"},width:"65",height:"30"})]})},F=function(e){var t=Object(a.useState)(),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(),i=Object(j.a)(r,2),u=i[0],d=i[1],p=Object(a.useState)(),g=Object(j.a)(p,2),x=g[0],v=g[1],N=Object(P.b)();Object(a.useEffect)((function(){v(void 0)}),[c,u]);var w=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={username:c,password:u},s=e.history,r=s.push,t.prev=4,t.next=7,N(D(a));case 7:r("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),v(t.t0.response.data.message);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),y=Object(O.a)().t,k=h("post","/auth"),C=c&&u;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("h1",{className:"text-center",children:y("Logins")}),Object(b.jsx)(m,{name:"userName",label:y("Username"),type:"text",onChange:function(e){return s(e.target.value)}}),Object(b.jsx)(m,{name:"password",label:y("Password"),type:"password",onChange:function(e){return d(e.target.value)}}),x&&Object(b.jsx)("div",{className:"alert alert-danger",children:x}),Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(f,{onClick:w,disabled:!C||k,pendingApiCall:k,text:y("Login")})})]})})},T=n(8),z=n.p+"static/media/9.1 profile.06c30927.png",M=function(e){var t=e.image,n=e.tempimage,a=z;return t&&(a="images/profile/"+t),Object(b.jsx)("img",Object(d.a)(Object(d.a)({alt:"Profile",src:n||a},e),{},{onError:function(e){return e.target.src=z}}))},_=n(58),V=n.n(_),K=n(125),B=function(e){var t=e.visible,n=e.setVisiable,a=e.onClickOk,c=e.data,s=e.pendingApiCall,r="modal fade";t&&(r+=" show d-block");var i=Object(O.a)().t;return Object(b.jsx)("div",{className:r,style:{backgroundColor:"rgba(0, 0, 0, 0.1)"},children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsx)("div",{className:"modal-header",children:Object(b.jsx)("h5",{className:"modal-title",children:i("Delete Message")})}),Object(b.jsx)("div",{class:"modal-body",children:c&&c.content+i("Are your sure to delete message?")}),Object(b.jsxs)("div",{class:"modal-footer",children:[Object(b.jsx)("button",{disabled:s,type:"button",class:"btn btn-light",onClick:function(){return n(!1)},children:i("Cancel")}),Object(b.jsx)(f,{onClick:function(){return a(c.id)},disabled:s,pendingApiCall:s,text:i("Delete"),className:"btn btn-danger"})]})]})})})},G=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(),i=Object(j.a)(r,2),u=i[0],p=i[1],g=Object(T.h)(),x=Object(a.useState)({}),v=Object(j.a)(x,2),w=v[0],y=v[1],k=Object(a.useState)(!1),C=Object(j.a)(k,2),S=C[0],A=C[1],D=Object(a.useState)(),E=Object(j.a)(D,2),I=E[0],R=E[1],F=Object(a.useState)(),z=Object(j.a)(F,2),_=z[0],G=z[1],W=Object(P.b)(),Y=Object(P.c)((function(e){return{loggedInUserName:e.userName}})).loggedInUserName,q=Object(T.g)(),H=Object(a.useState)(!1),J=Object(j.a)(H,2),X=J[0],Q=J[1];Object(a.useEffect)((function(){Q(Y==g.username)}),[Y,g.username]),Object(a.useEffect)((function(){y(e.user)}),[e.user]),Object(a.useEffect)((function(){G((function(e){return Object(d.a)(Object(d.a)({},e),{},{nickName:void 0})}))}),[u]);var Z=Object(O.a)().t,$=w.userName,ee=w.nickName;w.image;console.log(w),Object(a.useEffect)((function(){c?p(ee):(p(void 0),R(void 0))}),[c,ee]);var te=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I&&(t=I.split(",")[1]),n={nickName:u,image:t},e.prev=2,e.next=5,N($,n);case 5:a=e.sent,s(!1),y(a.data),W(U(a.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),G(e.t0.response.data.validateexception);case 14:console.log(u);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ne=h("put","/users/".concat($)),ae=h("delete","/users/"),ce=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L($);case 2:A(!1),W({type:"logout-success"}),q.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"card text-center",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)(M,{className:"rounded-circle shadow ",width:"200",height:"200",alt:"".concat($," profile"),image:w.image,tempimage:I})}),Object(b.jsxs)("div",{className:"card-body ",children:[!c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{children:$}),X&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{className:"btn btn-success d-inline-flex",onClick:function(){return s(!0)},children:[Object(b.jsx)(V.a,{children:"edit"}),Z("Edit")]}),Object(b.jsx)("div",{}),Object(b.jsx)(B,{pendingApiCall:ae,data:Y,visible:S,setVisiable:A,onClickOk:ce}),Object(b.jsxs)("button",{onClick:function(){return A(!0)},className:"btn btn-danger",children:[" ",Z("DeleteAcount")]})]})]}),c&&Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{label:"NickName De\u011fi\u015ftir",defaultValue:ee,onChange:function(e){p(e.target.value)},error:_.nickName}),Object(b.jsx)(m,{type:"file",error:_.image,onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],n=new FileReader;n.onload=function(){R(n.result)},n.readAsDataURL(t),G((function(e){return Object(d.a)(Object(d.a)({},e),{},{image:void 0})}))}}}),Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{className:"btn btn-success d-inline-flex",onClick:te,disabled:ne,pendingApiCall:ne,text:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("i",{className:"material-icons",children:"save"}),Z("Save")]})}),Object(b.jsxs)("button",{className:"btn btn-danger  d-inline-flex ml-2",onClick:function(){return s(!1)},disabled:ne,children:[Object(b.jsx)(K.a,{}),Z("Cancel")]})]})]})]})]})},W=function(){return Object(b.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(b.jsx)("div",{className:"spinner-border text-black-50"}),Object(b.jsx)("span",{className:"sr-only",children:" Loading"})]})},Y=n(26),q=n(14),H=n(37),J=function(){var e,t=Object(P.c)((function(e){return e.userName})),n=Object(a.useState)({content:[],last:!0,number:0}),c=Object(j.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(0),u=Object(j.a)(i,2),m=u[0],f=u[1],p=Object(a.useState)(!1),x=Object(j.a)(p,2),v=x[0],N=x[1],w=Object(O.a)(),C=w.t,L=w.i18n,A=Object(a.useState)({}),U=Object(j.a)(A,2),D=U[0],E=U[1],I=Object(T.h)().username,R=I?"/user/".concat(I,"/message?page="):"/message?page=",F=h("get",R),z=0,_=0;if(s.content.length>0){_=s.content[0].id;var V=s.content.length-1;z=s.content[V].id}var K=h("get","/message/".concat(z),!0),G=h("get","/message/".concat(_,"?direction=after"),!0),J=h("delete","/message/",!1);Object(a.useEffect)((function(){var t=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(_,I);case 2:t=e.sent,f(t.data.count);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e=setInterval((function(){t()}),5e3),function(){clearInterval(e)}}),[_,I]),Object(a.useEffect)((function(){X()}),[I]);var X=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(I,t);case 3:n=e.sent,r((function(e){return Object(d.a)(Object(d.a)({},n.data),{},{content:[].concat(Object(Y.a)(e.content),Object(Y.a)(n.data.content))})})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.content.length-1,n=s.content[t].id,e.next=4,c=n,g.a.get("/message/".concat(c));case 4:a=e.sent,r((function(e){return Object(d.a)(Object(d.a)({},a.data),{},{content:[].concat(Object(Y.a)(e.content),Object(Y.a)(a.data.content))})}));case 6:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=s.content[0].id,g.a.get("/message/".concat(n,"?direction=after"));case 2:t=e.sent,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{content:[].concat(Object(Y.a)(t.data),Object(Y.a)(e.content))})})),f(0);case 5:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}(),$=s.content,ee=s.last,te=(s.number,function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:N(!1),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{content:e.content.filter((function(e){return e.id!=t}))})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return 0==s.content.length?Object(b.jsxs)("div",{className:"alert alert-info text-center",children:[" ",F?Object(b.jsx)(W,{}):C("There is not message")]}):Object(b.jsxs)("div",{children:[m>0&&Object(b.jsx)("div",{className:"alert alert-secondary text-center",style:{cursor:G?"not-allowed":"pointer"},onClick:function(){return Z()},children:G?Object(b.jsx)(W,{}):"Load"}),$.map((function(e){var n=Object(H.a)(e.date,L.language);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"card p-1",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)(M,{image:e.userDTO.image,width:"32",height:"32",className:"rounded-circle m-1"}),Object(b.jsxs)("div",{className:"flex-fill m-auto pl-2",children:[Object(b.jsxs)(q.b,{to:"/user/"+e.userDTO.userName,className:"text-dark",children:[Object(b.jsx)("h6",{children:e.userDTO.userName}),Object(b.jsx)("span",{children:n})]}),Object(b.jsx)(B,{pendingApiCall:J,data:D,visible:v,setVisiable:N,onClickOk:te})]}),t==e.userDTO.userName?Object(b.jsx)("button",{className:"btn btn-delete-link",onClick:function(){E(e),N(!0)},children:Object(b.jsx)("i",{className:"material-icons",children:"delete_outline"})}):Object(b.jsx)("div",{})]},e.id),Object(b.jsx)("div",{className:"pl-5",children:e.content}),e.fileAttactment&&Object(b.jsxs)("div",{className:"pl-5",children:[e.fileAttactment.fileType.startsWith("image")&&Object(b.jsx)("img",{className:"img-fluid",src:"images/attachments/"+e.fileAttactment.name}),!e.fileAttactment.fileType.startsWith("image")&&Object(b.jsx)("strong",{children:"Message eklentisi desteklenmiyor"})]})]},e.id)})})),!ee&&Object(b.jsx)("div",{className:"alert alert-secondary text-center",style:{cursor:K?"not-allowed":"pointer"},onClick:function(){return Q()},children:K?Object(b.jsx)(W,{}):"Load"})]})},X=function(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),u=i[0],d=i[1],m=Object(T.h)().username,f=h("get","/users/"+m,!0),p=Object(O.a)().t;Object(a.useEffect)((function(){x()}),[m]);var x=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!1),e.next=4,n=m,g.a.get("/users/".concat(n));case 4:t=e.sent,s(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d(!0);case 11:case"end":return e.stop()}var n}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return u?Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"alert alert-danger text-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)("span",{className:"material-icons",style:{fontSize:"40px"},children:"error"})}),p("UserNotFOUNT")]})}):f||c.userName!=m?Object(b.jsx)(W,{}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)(G,{user:c})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsx)(J,{})})]})})},Q=n(126),Z=function(e){var t=e.user;return Object(b.jsxs)(q.b,{to:"/user/".concat(t.userName),className:"list-group-item list-group-item-action",children:[Object(b.jsx)(M,{className:"rounded-circle",width:"32",height:"32",alt:"".concat(t.userName," profile"),image:t.image}),Object(b.jsx)("span",{className:"pl-2",children:t.userName})]})},$=Object(Q.a)()((function(){var e=Object(a.useState)({content:[],size:3,number:0}),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(j.a)(s,2),i=r[0],u=r[1],d=h("get","/users?page");Object(a.useEffect)((function(){m()}),[]);var m=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,e.next=4,x(t);case 4:n=e.sent,c(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=n.content,p=n.last,g=n.first,v=Object(O.a)().t,N=Object(b.jsxs)("div",{children:[0==g&&Object(b.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(){var e=n.number-1;m(e)},children:v("Previus")}),0==p&&Object(b.jsx)("button",{className:"btn btn-sm btn-light float-right",onClick:function(){var e=n.number+1;m(e)},children:v("Next")})]});return d&&(N=Object(b.jsx)(W,{})),Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("h3",{className:"card-header text center",children:[v("Users")," "]}),Object(b.jsx)("div",{className:"list-group-flush",children:f.map((function(e,t){return Object(b.jsx)(Z,{user:e,children:" "},e.userName)}))}),N,i&&Object(b.jsxs)("div",{className:"text-center text-danger",children:[v("Load fail")," "]})]})})),ee=(n(108),function(e){var t=e.image,n=e.upload;return Object(b.jsxs)("div",{style:{position:"relative"},children:[Object(b.jsx)("img",{className:"img-thumbnail",src:t,alt:"hoax-attachment"}),Object(b.jsx)("div",{className:"overlay",style:{opacity:n?1:0},children:Object(b.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(b.jsx)("div",{className:"spinner-border text-light m-auto",children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})})})})]})}),te=function(){var e=Object(P.c)((function(e){return{image:e.image}})).image,t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(O.a)().t,i=Object(a.useState)(""),u=Object(j.a)(i,2),d=u[0],p=u[1],g=Object(a.useState)(),x=Object(j.a)(g,2),v=x[0],N=x[1],y=Object(a.useState)(),k=Object(j.a)(y,2),S=k[0],L=k[1],A=Object(a.useState)(),U=Object(j.a)(A,2),D=U[0],E=U[1],I=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={content:d,fileAttactmentId:D},e.prev=1,e.next=4,w(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),N(e.t0.response.data.validateexception.content);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),R=h("post","/message",!0),F=h("post","/message-file",!0),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.next=4,C(n);case 4:a=e.sent,E(a.data.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"card p-1 flex-row",children:[Object(b.jsx)(M,{image:e,width:"32",height:"32",className:"rounded-circle mr-1"}),Object(b.jsxs)("div",{className:"flex-fill",children:[Object(b.jsx)("textarea",{value:d,className:v?"form-control is-invalid":"form-control",rows:c?"3":"1",onFocus:function(){return s(!0)},onChange:function(e){p(e.target.value),N(void 0)}}),c&&Object(b.jsxs)(b.Fragment,{children:[!S&&Object(b.jsx)(m,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],n=new FileReader;n.onload=function(){L(n.result),T(t)},n.readAsDataURL(t)}}}),S&&Object(b.jsx)(ee,{image:S,upload:F}),Object(b.jsxs)("div",{className:"text-right mt-1",children:[Object(b.jsx)(f,{text:r("Send"),onClick:I,pendingApiCall:R,disabled:R||F}),Object(b.jsxs)("button",{className:"btn btn-light  d-inline-flex ml-1",onClick:function(){s(!1),p(""),N(void 0),L(),E()},children:[Object(b.jsx)(K.a,{}),r("Cancel")]})]})]}),v&&Object(b.jsx)("div",{className:"alert alert-danger",children:v})]})]})},ne=function(){var e=Object(P.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[e&&Object(b.jsx)("div",{className:"mb-1",children:Object(b.jsx)(te,{})}),Object(b.jsx)(J,{})]}),Object(b.jsx)("div",{className:"col",children:Object(b.jsx)($,{})})]})})},ae=n.p+"static/media/sosyaltema.66ff1c36.png",ce=function(e){var t=Object(O.a)().t,n=Object(P.c)((function(e){return{isLoggedIn:e.isLoggedIn,userName:e.userName,image:e.image}})),c=n.isLoggedIn,s=n.userName,r=n.image,i=Object(a.useRef)(null),o=Object(a.useState)(!1),l=Object(j.a)(o,2),u=l[0],d=l[1];Object(a.useEffect)((function(){return document.addEventListener("click",m),function(){document.removeEventListener("click",m)}}),[c]);var m=function(e){null!==i.current&&i.current.contains(e.target)||d(!1)},f=Object(P.b)(),p=Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(b.jsx)("li",{children:Object(b.jsx)(q.b,{className:"nav-link",to:"/login",children:t("Login")})}),Object(b.jsx)("li",{children:Object(b.jsxs)(q.b,{className:"nav-link",to:"/signup",children:[" ",t("Sign Up")," "]})})]});if(c){var g="dropdown-menu p-0 shadow";u&&(g+=" show"),p=Object(b.jsx)("ul",{className:"navbar-nav ml-auto",ref:i,children:Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsxs)("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return d(!0)},children:[Object(b.jsx)(M,{image:r,width:"32",height:"32",className:"rounded-circle m-auto"}),Object(b.jsx)("span",{className:"nav-link dropdown-toggle",children:s})]}),Object(b.jsxs)("div",{className:g,children:[Object(b.jsxs)(q.b,{className:"dropdown-item d-flex p-2",onClick:function(){return d(!1)},to:"/user/".concat(s),children:[Object(b.jsx)("i",{className:"material-icons text-info mr-2",children:"person"}),s]}),Object(b.jsxs)("span",{className:"dropdown-item  d-flex p-2",onClick:function(){f({type:"logout-success"})},style:{cursor:"pointer"},children:[Object(b.jsx)("i",{className:"material-icons text-danger mr-2",children:"power_settings_new"}),t("Logout")]})]})]})})}return Object(b.jsx)("div",{className:"shadow-sm bg-light mb-2",children:Object(b.jsxs)("nav",{className:"navbar navbar-light container navbar-expand",children:[Object(b.jsxs)(q.b,{className:"navbar-brand",to:"/",children:[Object(b.jsx)("img",{src:ae,width:"60",alt:"logo"})," Camg\xf6zSosyal"]}),p]})})},se=function(e){var t=Object(P.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(b.jsxs)("div",{children:[Object(b.jsxs)(q.a,{children:[Object(b.jsx)(ce,{}),Object(b.jsxs)(T.d,{children:[Object(b.jsx)(T.b,{exact:!0,path:"/",component:ne}),!t&&Object(b.jsx)(T.b,{path:"/login",component:F}),Object(b.jsx)(T.b,{path:"/signup",component:I}),Object(b.jsx)(T.b,{path:"/user/:username",component:X}),Object(b.jsx)(T.a,{to:"/"})]})]}),Object(b.jsx)(R,{})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},ie=(n(109),n(43)),oe=n(33);ie.a.use(oe.e).init({resources:{en:{translation:{"Sign Up":"Sign Up",Username:"Username",NickName:"NickName",Password:"Password","Password Repeat":"Password Repeat",Register:"Register","Ayn\u0131 \u015fifreyi yaz":"Repeat Password Please",Login:"Login",Logins:"Login Page",Logout:"Logout",Users:"Users",Previus:"Previus",Next:"Next","Load fail":'"Load fail"',UserNotFOUNT:"UserNotFOUNT",Edit:"Edit",Save:"Save",Cancel:"Cancel",Send:"Send","Delete Message":"Delete Message","Are your sure to delete message?":'"Are your sure to delete message?"',Delete:"Delete",DeleteAcount:"Delete My Account"}},tr:{translation:{"Sign Up":"Kay\u0131t Ol",Username:"Kullan\u0131c\u0131 Ad\u0131",NickName:"Takma Ad",Password:"Parola","Password Repeat":"Parola Tekrar\u0131",Register:"Kay\u0131t Ol","Ayn\u0131 \u015fifreyi yaz":"Ayn\u0131 \u015fifreyi yaz",Login:"Giri\u015f Yap",Logins:"Giri\u015f Sayfas\u0131",Logout:"\xc7\u0131k\u0131\u015f Yap",Users:"Kullan\u0131c\u0131lar",Previus:"\xf6nceki",Next:"ileri","Load fail":"Y\xfckeleme Hatas\u0131",UserNotFOUNT:"Kullan\u0131c\u0131 Bulunamad\u0131",Edit:"D\xfczenle",Save:"Kaydet",Cancel:"\u0130ptal Et",Send:"G\xf6nder","Delete Message":"Mesaj\u0131 Sil","Are your sure to delete message?":"Messaj\u0131 silmek istedi\u011finizden emin misiniz?",Delete:"Sil",DeleteAcount:"Hesab\u0131m\u0131 Sil"}}},fallbackLng:"tr",ns:["translation"],defaultNS:"translation",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(H.b)("tr",(function(e,t){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][t]}));ie.a;var le=n(29),ue={isLoggedIn:!1,userName:void 0,displayName:void 0,image:null,password:void 0},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return console.log(t.toString()),"logout-success"==t.type?ue:"login-success"==t.type?Object(d.a)(Object(d.a)({},t.payload),{},{isLoggedIn:!0}):"update-user"==t.type?Object(d.a)(Object(d.a)({},e),t.payload):e},je=n(60),be=n.n(je),me=n(61),Oe=new be.a,fe=function(){var e=Oe.get("state"),t={isLoggedIn:!1,userName:void 0,displayName:void 0,image:null,password:void 0};if(e)try{t=e}catch(n){}return t},pe=function(){v(fe()),console.log("localde"+fe().userName);var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.c,t=Object(le.d)(de,fe(),e(Object(le.a)(me.a)));return t.subscribe((function(){var e;e=t.getState(),Oe.set("state",e),v(t.getState())})),t}();r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(P.a,{store:pe,children:Object(b.jsx)(se,{})})}),document.getElementById("root")),re()},68:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.08d61b85.chunk.js.map